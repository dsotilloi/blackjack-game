const BlackJack=(()=>{"use strict";let e=[];const t=["C","D","H","S"],a=["A","J","Q","K"];let s=[],n=0,o=0;const r=document.querySelector("#btnAsk"),l=document.querySelector("#btnStop"),d=document.querySelector("#btnNew"),c=document.querySelectorAll(".desksDiv"),i=document.querySelectorAll("small");d.classList.add("btn-danger"),r.classList.add("btn-primary"),r.disabled=!0,l.disabled=!0;const u=(e,t)=>{e.classList.remove("btn-danger"),e.classList.add("btn-primary"),t.classList.remove("btn-primary"),t.classList.add("btn-danger"),e.disabled=!0,t.disabled=!1},m=(t=2)=>{e=p(),s=[];for(let e=0;e<t;e++)s.push(0);i.forEach(e=>e.innerText=0),c.forEach(e=>e.innerText=""),u(d,r),l.disabled=!1},p=()=>{e=[];for(let a=2;a<=10;a++)for(let s of t)e.push(a+s);for(let s of t)for(let t of a)e.push(t+s);return _.shuffle(e)},b=()=>e.pop(),g=(e,t)=>(s[t]=s[t]+(e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t})(e),i[t].innerText=s[t],s[t]),f=(e,t)=>{const a=document.createElement("img");a.src=`./assets/decks/${e}.png`,a.classList.add("deck"),c[t].append(a)},v=e=>{do{const e=b();o=g(e,s.length-1),f(e,s.length-1)}while(o<e&&e<21)};return r.addEventListener("click",()=>{const e=b();n=g(e,0),f(e,0),(()=>{const e=["Ganaste 🏆 ¡Sumaste 21 puntos exactos! ¿Qué tal otra partida, campeón?","Game over 👾. Sumaste más de 21 puntos, la Máquina gana ¡Inténtalo de nuevo!"],t=()=>{u(r,d),l.disabled=!0,v(n)};21===n?(t(),setTimeout(()=>{alert(e[0])},700)):n>21&&(t(),setTimeout(()=>{alert(e[1])},700))})()}),l.addEventListener("click",()=>{v(n),u(r,d),l.disabled=!0,(()=>{const e=["Empate 🤝 ¿Qué tal otra partida?","Ganaste 🏆 Te aproximaste más que la Máquina a 21 puntos ¡Juega de nuevo!","Game over 👾. La Máquina gana porque se aproximó más a 21 puntos, ¡inténtalo de nuevo!"];setTimeout(()=>{o===n?alert(e[0]):o>21?alert(e[1]):alert(e[2])},700)})()}),d.addEventListener("click",()=>m()),{nuevoJuego:m}})();